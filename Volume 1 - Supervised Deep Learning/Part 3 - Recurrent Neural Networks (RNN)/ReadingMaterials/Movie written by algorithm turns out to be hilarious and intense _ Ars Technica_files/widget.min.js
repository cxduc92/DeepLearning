!function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return e[i].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="https://embed.actionbutton.co/widget/",t(0)}([/*!********************!*\
  !*** multi widget ***!
  \********************/
function(e,t,n){e.exports=n(/*! ./src/widget-loader.js */24)},/*!*************************************!*\
  !*** ./src/lib/domElementsUtils.js ***!
  \*************************************/
function(e,t){"use strict";function n(e,t,n){return null==e?null:null==e.dataset?e.getAttribute(t)||e.getAttribute("data-"+t):e.dataset[n]}function i(){function e(){for(var e="",t="abcdefghijklmnopqrstuvwxyz",n=0;n<10;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}return"actionbutton"+e()}Object.defineProperty(t,"__esModule",{value:!0}),t.getElementAttribute=n,t.generateIdForWidgetContainer=i},/*!***********************!*\
  !*** ./src/config.js ***!
  \***********************/
function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={embedElement:"action_button_container",apiBaseUrl:"https://api.actionbutton.co/api/"};t.default=i,e.exports=t.default},/*!******************************!*\
  !*** ./src/lib/url-utils.js ***!
  \******************************/
function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){var n=t||window.location.href,i=new RegExp("[?&]"+e+"=([^&#]*)","i"),o=i.exec(n);return o?o[1]:null},i=function(e){var t=window.location.search.substring(1),n=t.split("&"),i=null,o=0,r=0;for(r=0;r<n.length;r++)if(o=n[r].indexOf("="),i=[n[r].slice(0,o),n[r].slice(o+1)],decodeURIComponent(i[0])==e)return decodeURIComponent(i[1]);return null};t.default={getQueryString:n,getQueryVariable:i},e.exports=t.default},/*!****************************************!*\
  !*** ./src/lib/articleUrlProcessor.js ***!
  \****************************************/
function(e,t,n){"use strict";function i(e){if(!e)return null;var t=/^(?:https?:\/\/)?(?:[^@\/\n]+@)?(?:www\.)?([^:\/\n]+)/,n=t.exec(e);return null==n||n.length<2?null:n[1]}function o(e){var t=i(e)||"",n=t.split(".");return n.length<=2?"msn.com"===t:"com"===n[n.length-1]&&"msn"===n[n.length-2]}function r(){var e=null,t=document.querySelector("link[rel='canonical']"),n=document.querySelector("meta[property='og:url']"),i=!1;n&&o(n.content)?e=n.content:t?e=decodeURIComponent(t.getAttribute("href")):n?e=n.content:window.location.href.indexOf("?")!==-1?(e=window.location.href.split("?")[0],i=!0):(e=window.location.href,i=!0);var r=parent!==window;return i&&r&&(document.referrer||document.baseURI)&&(e=document.referrer||document.baseURI,e.indexOf("?")!==-1&&(e=e.split("?")[0])),e}function a(e){var t=/((https?:\/\/)?.+\/\w+\/\d+)\//,n=t.exec(e);if(n&&n.length>0){var i=n[1];return e.indexOf(i)!==-1?i:e}return e}function u(e){return e.indexOf("/amp/")>0?e.replace("amp/",""):e}function c(e){var t="/v/s/";if(e.indexOf(t)>0){var n=e.substring(e.indexOf(t)+t.length);return l(n)}return e}function d(e){var t="/amp/s/";if(e.indexOf(t)>0){var n=e.substring(e.indexOf(t)+t.length);return l(n)}return e}function l(e){var t=i(e);if(!t)return e;var n=g.filter(function(e){return e.domain&&e.domain===t||e.domainPattern&&t.match(e.domainPattern)});if(!n||!n.length)return e;var o=e;return n.forEach(function(e){o=e.filter(o)}),o}function s(){return l(r())}function f(e){var t=null,n=(0,m.getElementAttribute)(e,"action-button-article-url","actionButtonArticleUrl");if(null!=n&&n.length>0)return n.split("#")[0];var i=parent!=window;return i&&(t=document.referrer||document.baseURI),t||(t=window.location.href),t?t.split("#")[0]:null}Object.defineProperty(t,"__esModule",{value:!0}),t.getArticleUrl=r,t.getUrlForMatching=s,t.getUrlForTracking=f;var m=n(/*! ./domElementsUtils */1),g=[{domainPattern:/^google\..*/,filter:d},{domain:"attn.com",filter:a},{domain:"refinery29.com",filter:u},{domain:"www-refinery29-com.cdn.ampproject.org",filter:c}]},/*!******************************!*\
  !*** ./src/lib/page-data.js ***!
  \******************************/
function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(){var e=document.getElementById(w.default.embedElement);return(0,b.getElementAttribute)(e,"widget-preview-id","widgetPreviewId")}function r(e){return null==e?null:(0,b.getElementAttribute)(e,"action-button-widget-id","actionButtonWidgetId")}function a(e){return null==e?null:(0,b.getElementAttribute)(e,"is-sponsored-content","isSponsoredContent")}function u(e){return null==e?null:(0,b.getElementAttribute)(e,"action-button-widget-container-id","actionButtonWidgetContainerId")}function c(e){var t=document.querySelectorAll("#"+e);if(t.length&&1!==t.length)for(var n=1;n<t.length;n++){var i=t[n];i.parentNode.removeChild(i)}}function d(){return!(self==top)&&window.location.href.indexOf("widget-iframe.html")!=-1}function l(){return!(self==top)&&window.location.href.indexOf("?widgetId=")!=-1}function s(e,t){return null!=t?u(e)?4:d()?l()?5:3:2:d()?l()?5:1:0}function f(e){T[e]||(T[e]=x());var t=T[e];return e&&(c(e),null==t.widgetContainer&&(t.widgetContainer=document.getElementById(e))),t.widgetContainerId=(t.widgetContainer||{}).id,t.widgetRequestId=r(t.widgetContainer),t.widgetPreviewId=o(),t.embedType=s(t.widgetContainer,t.widgetRequestId),t.articleUrl=(0,y.getUrlForMatching)(),t.articleUrlTracking=(0,y.getUrlForTracking)(t.widgetContainer),t.isSponsoredContent=t.isSponsoredContent||a(t.widgetContainer),t.widgetContainer&&(t.iponWeb={macroUrl:t.widgetContainer.getAttribute("ipon-web-macro-url"),lineItemId:t.widgetContainer.getAttribute("line-item-id"),pageDomain:t.widgetContainer.getAttribute("page-domain")}),t.articleUrl.indexOf("actionbutton.co")===-1&&t.articleUrl.indexOf("localhost")===-1||(t.uniqueStateId=v.default.getQueryVariable("uniqueStateId")),t}function m(e){return T[e]}function g(e,t){var n=T[e]=Object.assign({},T[e],t);n.embedType=s(n.widgetContainer,n.widgetRequestId)}Object.defineProperty(t,"__esModule",{value:!0}),t.isIframeIntegration=d,t.isScriptLoaded=l,t.initPageData=f,t.getPageData=m,t.setPageData=g;var p=n(/*! ../config */2),w=i(p),h=n(/*! ../lib/url-utils.js */3),v=i(h),b=n(/*! ./domElementsUtils */1),y=n(/*! ./articleUrlProcessor */4),x=function(){return{articleUrl:null,articleUrlTracking:null,widgetRequestId:null,widgetPreviewId:null,isSponsoredContent:null,embedType:null,widgetContainer:null}},T={}},/*!***********************************!*\
  !*** ./src/lib/widget-support.js ***!
  \***********************************/
function(e,t,n){"use strict";function i(){return window.Promise&&window.fetch&&"function"==typeof Object.assign&&Array.prototype.find&&document.currentScript}function o(){var e=navigator.userAgent.includes&&navigator.userAgent.includes("AppleWebKit")&&navigator.userAgent.includes("iPhone OS");if(e)return!0;var t=u.name,n=parseInt(u.version,10);return!("ie"===t&&n<11||"safari"===t&&n<=6||"android"===t&&n<=4||"chrome"===t&&n<=20||"firefox"===t&&n<=28)}function r(e,t){var n=document.createElement("script");n.src=e,n.onload=function(){t()},n.onerror=function(){t(new Error("Failed to load script "+e))},document.head.appendChild(n)}Object.defineProperty(t,"__esModule",{value:!0}),t.browserSupportsAllFeatures=i,t.isBrowserSupported=o,t.loadScript=r;var a=n(/*! detect-browser */8),u=(0,a.detect)()},/*!***********************************!*\
  !*** ./src/lib/widget-visible.js ***!
  \***********************************/
function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=arguments.length<=1||void 0===arguments[1]?0:arguments[1],n=e.getBoundingClientRect().bottom-t;return n>=0&&n<=(window.innerHeight||document.documentElement.clientHeight)}function r(e){var t=e.getBoundingClientRect().top,n=e.getBoundingClientRect().bottom-50,i=(window.innerWidth||document.documentElement.clientWidth)<=480,o=window.innerHeight||document.documentElement.clientHeight;return n>=o||t<=(i?-225:-50)}function a(e,t){var n=t||document.getElementById(e),i=200,a=100;return new Promise(function(e){var t=null,u=!1,d=(0,c.default)(function(){o(n,a)&&!r(n)?setTimeout(function(){o(n,a)&&(u||(e(!0),u=!0,i=50),t&&clearInterval(t))},850):u&&r(n)&&(n.contentWindow.postMessage({bounce:!0},n.src),t&&clearInterval(t))},i);window["ab_isEventListenerAddedForWidgetVisible_"+n.id]||(window.addEventListener("scroll",d),window["ab_isEventListenerAddedForWidgetVisible_"+n.id]=!0,t=setInterval(function(){d()},200))})}Object.defineProperty(t,"__esModule",{value:!0});var u=n(/*! lodash.throttle */13),c=i(u);t.default=a,e.exports=t.default},/*!***********************************!*\
  !*** ./~/detect-browser/index.js ***!
  \***********************************/
function(e,t,n){(function(t){function i(){var e=r();return e?e:"undefined"!=typeof navigator?a(navigator.userAgent):null}function o(e){var t=c(),n=t.filter(function(t){return t.rule&&t.rule.test(e)})[0];return n?n.name:null}function r(){var e="undefined"==typeof navigator&&"undefined"!=typeof t;return e?{name:"node",version:t.version.slice(1),os:n(/*! os */14).type().toLowerCase()}:null}function a(e){var t=u();if(!e)return null;var n=t.map(function(t){var n=t.rule.exec(e),i=n&&n[1].split(/[._]/).slice(0,3);return i&&i.length<3&&(i=i.concat(1==i.length?[0,0]:[0])),n&&{name:t.name,version:i.join(".")}}).filter(Boolean)[0]||null;return n&&(n.os=o(e)),n}function u(){return d([["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["vivaldi",/Vivaldi\/([0-9\.]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)$/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\ ([0-9\.]+)/]])}function c(){return d([["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/],["Search Bot",/(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\/Teoma)|(ia_archiver)/]])}function d(e){return e.map(function(e){return{name:e[0],rule:e[1]}})}e.exports={detect:i,detectOS:o,getNodeVersion:r,parseUserAgent:a}}).call(t,n(/*! ./../process/browser.js */15))},/*!***********************************!*\
  !*** ./~/iframe-resizer/index.js ***!
  \***********************************/
function(e,t,n){"use strict";e.exports=n(/*! ./js */12)},/*!************************************************************!*\
  !*** ./~/iframe-resizer/js/iframeResizer.contentWindow.js ***!
  \************************************************************/
function(e,t){!function(t){"use strict";function n(e,t,n){"addEventListener"in window?e.addEventListener(t,n,!1):"attachEvent"in window&&e.attachEvent("on"+t,n)}function i(e,t,n){"removeEventListener"in window?e.removeEventListener(t,n,!1):"detachEvent"in window&&e.detachEvent("on"+t,n)}function o(e){return e.charAt(0).toUpperCase()+e.slice(1)}function r(e){var t,n,i,o=null,r=0,a=function(){r=Be(),o=null,i=e.apply(t,n),o||(t=n=null)};return function(){var u=Be();r||(r=u);var c=Ee-(u-r);return t=this,n=arguments,c<=0||c>Ee?(o&&(clearTimeout(o),o=null),r=u,i=e.apply(t,n),o||(t=n=null)):o||(o=setTimeout(a,c)),i}}function a(e){return me+"["+pe+"] "+e}function u(e){fe&&"object"==typeof window.console}function c(e){"object"==typeof window.console&&console.warn(a(e))}function d(){l(),u("Initialising iFrame ("+location.href+")"),s(),g(),m("background",X),m("padding",Z),M(),b(),y(),p(),k(),x(),de=C(),j("init","Init message from host page"),Ae()}function l(){function e(e){return"true"===e}var n=ce.substr(ge).split(":");pe=n[0],J=t!==n[1]?Number(n[1]):J,ee=t!==n[2]?e(n[2]):ee,fe=t!==n[3]?e(n[3]):fe,le=t!==n[4]?Number(n[4]):le,Q=t!==n[6]?e(n[6]):Q,K=n[7],ae=t!==n[8]?n[8]:ae,X=n[9],Z=n[10],xe=t!==n[11]?Number(n[11]):xe,de.enable=t!==n[12]&&e(n[12]),he=t!==n[13]?n[13]:he,Me=t!==n[14]?n[14]:Me}function s(){function e(){var e=window.iFrameResizer;u("Reading data from page: "+JSON.stringify(e)),ke="messageCallback"in e?e.messageCallback:ke,Ae="readyCallback"in e?e.readyCallback:Ae,ye="targetOrigin"in e?e.targetOrigin:ye,ae="heightCalculationMethod"in e?e.heightCalculationMethod:ae,Me="widthCalculationMethod"in e?e.widthCalculationMethod:Me}function t(e,t){return"function"==typeof e&&(u("Setup custom "+t+"CalcMethod"),We[t]=e,e="custom"),e}"iFrameResizer"in window&&Object===window.iFrameResizer.constructor&&(e(),ae=t(ae,"height"),Me=t(Me,"width")),u("TargetOrigin for parent set to: "+ye)}function f(e,t){return-1!==t.indexOf("-")&&(c("Negative CSS value ignored for "+e),t=""),t}function m(e,n){t!==n&&""!==n&&"null"!==n&&(document.body.style[e]=n,u("Body "+e+' set to "'+n+'"'))}function g(){t===K&&(K=J+"px"),m("margin",f("margin",K))}function p(){document.documentElement.style.height="",document.body.style.height="",u('HTML & body height set to "auto"')}function w(e){var t={add:function(t){function i(){j(e.eventName,e.eventType)}Ne[t]=i,n(window,t,i)},remove:function(e){var t=Ne[e];delete Ne[e],i(window,e,t)}};e.eventNames&&Array.prototype.map?(e.eventName=e.eventNames[0],e.eventNames.map(t[e.method])):t[e.method](e.eventName),u(o(e.method)+" event listener: "+e.eventType)}function h(e){w({method:e,eventType:"Animation Start",eventNames:["animationstart","webkitAnimationStart"]}),w({method:e,eventType:"Animation Iteration",eventNames:["animationiteration","webkitAnimationIteration"]}),w({method:e,eventType:"Animation End",eventNames:["animationend","webkitAnimationEnd"]}),w({method:e,eventType:"Input",eventName:"input"}),w({method:e,eventType:"Mouse Up",eventName:"mouseup"}),w({method:e,eventType:"Mouse Down",eventName:"mousedown"}),w({method:e,eventType:"Orientation Change",eventName:"orientationchange"}),w({method:e,eventType:"Print",eventName:["afterprint","beforeprint"]}),w({method:e,eventType:"Ready State Change",eventName:"readystatechange"}),w({method:e,eventType:"Touch Start",eventName:"touchstart"}),w({method:e,eventType:"Touch End",eventName:"touchend"}),w({method:e,eventType:"Touch Cancel",eventName:"touchcancel"}),w({method:e,eventType:"Transition Start",eventNames:["transitionstart","webkitTransitionStart","MSTransitionStart","oTransitionStart","otransitionstart"]}),w({method:e,eventType:"Transition Iteration",eventNames:["transitioniteration","webkitTransitionIteration","MSTransitionIteration","oTransitionIteration","otransitioniteration"]}),w({method:e,eventType:"Transition End",eventNames:["transitionend","webkitTransitionEnd","MSTransitionEnd","oTransitionEnd","otransitionend"]}),"child"===he&&w({method:e,eventType:"IFrame Resized",eventName:"resize"})}function v(e,t,n,i){return t!==e&&(e in n||(c(e+" is not a valid option for "+i+"CalculationMethod."),e=t),u(i+' calculation method set to "'+e+'"')),e}function b(){ae=v(ae,re,Re,"height")}function y(){Me=v(Me,Oe,Fe,"width")}function x(){!0===Q?(h("add"),W()):u("Auto Resize disabled")}function T(){u("Disable outgoing messages"),ve=!1}function I(){u("Remove event listener: Message"),i(window,"message",D)}function E(){null!==G&&G.disconnect()}function S(){h("remove"),E(),clearInterval(se)}function O(){T(),I(),!0===Q&&S()}function M(){var e=document.createElement("div");e.style.clear="both",e.style.display="block",document.body.appendChild(e)}function C(){function e(){return{x:window.pageXOffset!==t?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==t?window.pageYOffset:document.documentElement.scrollTop}}function i(t){var n=t.getBoundingClientRect(),i=e();return{x:parseInt(n.left,10)+parseInt(i.x,10),y:parseInt(n.top,10)+parseInt(i.y,10)}}function o(e){function n(e){var t=i(e);u("Moving to in page link (#"+o+") at x: "+t.x+" y: "+t.y),q(t.y,t.x,"scrollToOffset")}var o=e.split("#")[1]||e,r=decodeURIComponent(o),a=document.getElementById(r)||document.getElementsByName(r)[0];t!==a?n(a):(u("In page link (#"+o+") not found in iFrame, so sending to parent"),q(0,0,"inPageLink","#"+o))}function r(){""!==location.hash&&"#"!==location.hash&&o(location.href)}function a(){function e(e){function t(e){e.preventDefault(),o(this.getAttribute("href"))}"#"!==e.getAttribute("href")&&n(e,"click",t)}Array.prototype.forEach.call(document.querySelectorAll('a[href^="#"]'),e)}function d(){n(window,"hashchange",r)}function l(){setTimeout(r,ne)}function s(){Array.prototype.forEach&&document.querySelectorAll?(u("Setting up location.hash handlers"),a(),d(),l()):c("In page linking not fully supported in this browser! (See README.md for IE8 workaround)")}return de.enable?s():u("In page linking not enabled"),{findTarget:o}}function k(){u("Enable public methods"),Ce.parentIFrame={autoResize:function(e){return!0===e&&!1===Q?(Q=!0,x()):!1===e&&!0===Q&&(Q=!1,S()),Q},close:function(){q(0,0,"close"),O()},getId:function(){return pe},getPageInfo:function(e){"function"==typeof e?(Pe=e,q(0,0,"pageInfo")):(Pe=function(){},q(0,0,"pageInfoStop"))},moveToAnchor:function(e){de.findTarget(e)},reset:function(){V("parentIFrame.reset")},scrollTo:function(e,t){q(t,e,"scrollTo")},scrollToOffset:function(e,t){q(t,e,"scrollToOffset")},sendMessage:function(e,t){q(0,0,"message",JSON.stringify(e),t)},setHeightCalculationMethod:function(e){ae=e,b()},setWidthCalculationMethod:function(e){Me=e,y()},setTargetOrigin:function(e){u("Set targetOrigin: "+e),ye=e},size:function(e,t){var n=""+(e?e:"")+(t?","+t:"");j("size","parentIFrame.size("+n+")",e,t)}}}function A(){0!==le&&(u("setInterval: "+le+"ms"),se=setInterval(function(){j("interval","setInterval: "+le)},Math.abs(le)))}function P(){function e(e){function t(e){!1===e.complete&&(u("Attach listeners to "+e.src),e.addEventListener("load",r,!1),e.addEventListener("error",a,!1),l.push(e))}"attributes"===e.type&&"src"===e.attributeName?t(e.target):"childList"===e.type&&Array.prototype.forEach.call(e.target.querySelectorAll("img"),t)}function n(e){l.splice(l.indexOf(e),1)}function i(e){u("Remove listeners from "+e.src),e.removeEventListener("load",r,!1),e.removeEventListener("error",a,!1),n(e)}function o(e,n,o){i(e.target),j(n,o+": "+e.target.src,t,t)}function r(e){o(e,"imageLoad","Image loaded")}function a(e){o(e,"imageLoadFailed","Image load failed")}function c(t){j("mutationObserver","mutationObserver: "+t[0].target+" "+t[0].type),t.forEach(e)}function d(){var e=document.querySelector("body"),t={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0};return f=new s(c),u("Create body MutationObserver"),f.observe(e,t),f}var l=[],s=window.MutationObserver||window.WebKitMutationObserver,f=d();return{disconnect:function(){"disconnect"in f&&(u("Disconnect body MutationObserver"),f.disconnect(),l.forEach(i))}}}function W(){var e=0>le;window.MutationObserver||window.WebKitMutationObserver?e?A():G=P():(u("MutationObserver not supported in this browser!"),A())}function N(e,t){function n(e){var n=/^\d+(px)?$/i;if(n.test(e))return parseInt(e,Y);var i=t.style.left,o=t.runtimeStyle.left;return t.runtimeStyle.left=t.currentStyle.left,t.style.left=e||0,e=t.style.pixelLeft,t.style.left=i,t.runtimeStyle.left=o,e}var i=0;return t=t||document.body,"defaultView"in document&&"getComputedStyle"in document.defaultView?(i=document.defaultView.getComputedStyle(t,null),i=null!==i?i[e]:0):i=n(t.currentStyle[e]),parseInt(i,Y)}function B(e){e>Ee/2&&(Ee=2*e,u("Event throttle increased to "+Ee+"ms"))}function R(e,t){for(var n=t.length,i=0,r=0,a=o(e),c=Be(),d=0;d<n;d++)i=t[d].getBoundingClientRect()[e]+N("margin"+a,t[d]),i>r&&(r=i);return c=Be()-c,u("Parsed "+n+" HTML elements"),u("Element position calculated in "+c+"ms"),B(c),r}function F(e){return[e.bodyOffset(),e.bodyScroll(),e.documentElementOffset(),e.documentElementScroll()]}function L(e,t){function n(){return c("No tagged elements ("+t+") found on page"),document.querySelectorAll("body *")}var i=document.querySelectorAll("["+t+"]");return 0===i.length&&n(),R(e,i)}function z(){return document.querySelectorAll("body *")}function _(e,n,i,o){function r(){oe=f,Se=m,q(oe,Se,e)}function a(){function e(e,t){var n=Math.abs(e-t)<=xe;return!n}return f=t!==i?i:Re[ae](),m=t!==o?o:Fe[Me](),e(oe,f)||ee&&e(Se,m)}function c(){return!(e in{init:1,interval:1,size:1})}function d(){return ae in we||ee&&Me in we}function l(){u("No change in size detected")}function s(){c()&&d()?V(n):e in{interval:1}||l()}var f,m;a()||"init"===e?(U(),r()):s()}function j(e,t,n,i){function o(){e in{reset:1,resetPage:1,init:1}||u("Trigger event: "+t)}function r(){return Te&&e in te}r()?u("Trigger event cancelled: "+e):(o(),Le(e,t,n,i))}function U(){Te||(Te=!0,u("Trigger event lock on")),clearTimeout(Ie),Ie=setTimeout(function(){Te=!1,u("Trigger event lock off"),u("--")},ne)}function H(e){oe=Re[ae](),Se=Fe[Me](),q(oe,Se,e)}function V(e){var t=ae;ae=re,u("Reset trigger event: "+e),U(),H("reset"),ae=t}function q(e,n,i,o,r){function a(){t===r?r=ye:u("Message targetOrigin: "+r)}function c(){var a=e+":"+n,c=pe+":"+a+":"+i+(t!==o?":"+o:"");u("Sending message to host page ("+c+")"),be.postMessage(me+c,r)}!0===ve&&(a(),c())}function D(t){function i(){return me===(""+t.data).substr(0,ge)}function o(){return t.data.split("]")[1].split(":")[0]}function r(){return t.data.substr(t.data.indexOf(":")+1)}function a(){return!("undefined"!=typeof e&&e.exports)&&"iFrameResize"in window}function l(){return t.data.split(":")[2]in{true:1,false:1}}function s(){var e=o();e in m?m[e]():a()||l()||c("Unexpected message ("+t.data+")")}function f(){!1===ie?s():l()?m.init():u('Ignored message of type "'+o()+'". Received before initialization.')}var m={init:function(){function e(){ce=t.data,be=t.source,d(),ie=!1,setTimeout(function(){ue=!1},ne)}document.body?e():(u("Waiting for page ready"),n(window,"readystatechange",m.initFromParent))},reset:function(){ue?u("Page reset ignored by init"):(u("Page size reset by host page"),H("resetPage"))},resize:function(){j("resizeParent","Parent window requested size check")},moveToAnchor:function(){de.findTarget(r())},inPageLink:function(){this.moveToAnchor()},pageInfo:function(){var e=r();u("PageInfoFromParent called from parent: "+e),Pe(JSON.parse(e)),u(" --")},message:function(){var e=r();u("MessageCallback called from parent: "+e),ke(JSON.parse(e)),u(" --")}};i()&&f()}function $(){"loading"!==document.readyState&&window.parent.postMessage("[iFrameResizerChild]Ready","*")}if("undefined"!=typeof window){var Q=!0,Y=10,X="",J=0,K="",G=null,Z="",ee=!1,te={resize:1,click:1},ne=128,ie=!0,oe=1,re="bodyOffset",ae=re,ue=!0,ce="",de={},le=32,se=null,fe=!1,me="[iFrameSizer]",ge=me.length,pe="",we={max:1,min:1,bodyScroll:1,documentElementScroll:1},he="child",ve=!0,be=window.parent,ye="*",xe=0,Te=!1,Ie=null,Ee=16,Se=1,Oe="scroll",Me=Oe,Ce=window,ke=function(){c("MessageCallback function not defined")},Ae=function(){},Pe=function(){},We={height:function(){return c("Custom height calculation function not defined"),document.documentElement.offsetHeight},width:function(){return c("Custom width calculation function not defined"),document.body.scrollWidth}},Ne={},Be=Date.now||function(){return(new Date).getTime()},Re={bodyOffset:function(){return document.body.offsetHeight+N("marginTop")+N("marginBottom")},offset:function(){return Re.bodyOffset()},bodyScroll:function(){return document.body.scrollHeight},custom:function(){return We.height()},documentElementOffset:function(){return document.documentElement.offsetHeight},documentElementScroll:function(){return document.documentElement.scrollHeight},max:function(){return Math.max.apply(null,F(Re))},min:function(){return Math.min.apply(null,F(Re))},grow:function(){return Re.max()},lowestElement:function(){return Math.max(Re.bodyOffset(),R("bottom",z()))},taggedElement:function(){return L("bottom","data-iframe-height")}},Fe={bodyScroll:function(){return document.body.scrollWidth},bodyOffset:function(){return document.body.offsetWidth},custom:function(){return We.width()},documentElementScroll:function(){return document.documentElement.scrollWidth},documentElementOffset:function(){return document.documentElement.offsetWidth},scroll:function(){return Math.max(Fe.bodyScroll(),Fe.documentElementScroll())},max:function(){return Math.max.apply(null,F(Fe))},min:function(){return Math.min.apply(null,F(Fe))},rightMostElement:function(){return R("right",z())},taggedElement:function(){return L("right","data-iframe-width")}},Le=r(_);n(window,"message",D),$()}}()},/*!**********************************************!*\
  !*** ./~/iframe-resizer/js/iframeResizer.js ***!
  \**********************************************/
function(e,t,n){var i,o,r;!function(n){"use strict";function a(e,t,n){"addEventListener"in window?e.addEventListener(t,n,!1):"attachEvent"in window&&e.attachEvent("on"+t,n)}function u(e,t,n){"removeEventListener"in window?e.removeEventListener(t,n,!1):"detachEvent"in window&&e.detachEvent("on"+t,n)}function c(){var e,t=["moz","webkit","o","ms"];for(e=0;e<t.length&&!q;e+=1)q=window[t[e]+"RequestAnimationFrame"];q||f("setup","RequestAnimationFrame not supported")}function d(e){var t="Host page: "+e;return window.top!==window.self&&(t=window.parentIFrame&&window.parentIFrame.getId?window.parentIFrame.getId()+": "+e:"Nested host page: "+e),t}function l(e){return U+"["+d(e)+"]"}function s(e){return $[e]?$[e].log:L}function f(e,t){p("log",e,t,s(e))}function m(e,t){p("info",e,t,s(e))}function g(e,t){p("warn",e,t,!0)}function p(e,t,n,i){!0===i&&"object"==typeof window.console&&console[e](l(t),n)}function w(e){function t(){function e(){I(q),y(D),B("resizedCallback",q)}i("Height"),i("Width"),E(e,q,"init")}function n(){var e=_.substr(H).split(":");return{iframe:$[e[0]].iframe,id:e[0],height:e[1],width:e[2],type:e[3]}}function i(e){var t=Number($[D]["max"+e]),n=Number($[D]["min"+e]),i=e.toLowerCase(),o=Number(q[i]);f(D,"Checking "+i+" is in range "+n+"-"+t),o<n&&(o=n,f(D,"Set "+i+" to min value")),o>t&&(o=t,f(D,"Set "+i+" to max value")),q[i]=""+o}function o(){function t(){function e(){var e=0,t=!1;for(f(D,"Checking connection is from allowed list of origins: "+i);e<i.length;e++)if(i[e]===n){t=!0;break}return t}function t(){var e=$[D].remoteHost;return f(D,"Checking connection is from: "+e),n===e}return i.constructor===Array?e():t()}var n=e.origin,i=$[D].checkOrigin;if(i&&""+n!="null"&&!t())throw new Error("Unexpected message received from: "+n+" for "+q.iframe.id+". Message was: "+e.data+". This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.");return!0}function r(){return U===(""+_).substr(0,H)&&_.substr(H).split(":")[0]in $}function c(){var e=q.type in{true:1,false:1,undefined:1};return e&&f(D,"Ignoring init message from meta parent page"),e}function d(e){return _.substr(_.indexOf(":")+j+e)}function l(e){f(D,"MessageCallback passed: {iframe: "+q.iframe.id+", message: "+e+"}"),B("messageCallback",{iframe:q.iframe,message:JSON.parse(e)}),f(D,"--")}function s(){var e=document.body.getBoundingClientRect(),t=q.iframe.getBoundingClientRect();return JSON.stringify({iframeHeight:t.height,iframeWidth:t.width,clientHeight:Math.max(document.documentElement.clientHeight,window.innerHeight||0),clientWidth:Math.max(document.documentElement.clientWidth,window.innerWidth||0),offsetTop:parseInt(t.top-e.top,10),offsetLeft:parseInt(t.left-e.left,10),scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset})}function p(e,t){function n(){S("Send Page Info","pageInfo:"+s(),e,t)}C(n,32)}function w(){function e(e,n){function o(){$[i]?p($[i].iframe,i):t()}["scroll","resize"].forEach(function(t){f(i,e+t+" listener for sendPageInfo"),n(window,t,o)})}function t(){e("Remove ",u)}function n(){e("Add ",a)}var i=D;n(),$[i].stopPageInfo=t}function M(){$[D]&&$[D].stopPageInfo&&($[D].stopPageInfo(),delete $[D].stopPageInfo)}function k(){var e=!0;return null===q.iframe&&(g(D,"IFrame ("+q.id+") not found"),e=!1),e}function A(e){var t=e.getBoundingClientRect();return b(D),{x:Math.floor(Number(t.left)+Number(V.x)),y:Math.floor(Number(t.top)+Number(V.y))}}function P(e){function t(){V=r,W(),f(D,"--")}function n(){return{x:Number(q.width)+o.x,y:Number(q.height)+o.y}}function i(){window.parentIFrame?window.parentIFrame["scrollTo"+(e?"Offset":"")](r.x,r.y):g(D,"Unable to scroll to requested position, window.parentIFrame not found")}var o=e?A(q.iframe):{x:0,y:0},r=n();f(D,"Reposition requested from iFrame (offset x:"+o.x+" y:"+o.y+")"),window.top!==window.self?i():t()}function W(){!1!==B("scrollCallback",V)?y(D):x()}function N(e){function t(){var e=A(r);f(D,"Moving to in page link (#"+i+") at x: "+e.x+" y: "+e.y),V={x:e.x,y:e.y},W(),f(D,"--")}function n(){window.parentIFrame?window.parentIFrame.moveToAnchor(i):f(D,"In page link #"+i+" not found and window.parentIFrame not found")}var i=e.split("#")[1]||"",o=decodeURIComponent(i),r=document.getElementById(o)||document.getElementsByName(o)[0];r?t():window.top!==window.self?n():f(D,"In page link #"+i+" not found")}function B(e,t){return h(D,e,t)}function R(){switch($[D].firstRun&&z(),q.type){case"close":v(q.iframe);break;case"message":l(d(6));break;case"scrollTo":P(!1);break;case"scrollToOffset":P(!0);break;case"pageInfo":p($[D].iframe,D),w();break;case"pageInfoStop":M();break;case"inPageLink":N(d(9));break;case"reset":T(q);break;case"init":t(),B("initCallback",q.iframe);break;default:t()}}function F(e){var t=!0;return $[e]||(t=!1,g(q.type+" No settings for "+e+". Message was: "+_)),t}function L(){for(var e in $)S("iFrame requested init",O(e),document.getElementById(e),e)}function z(){$[D].firstRun=!1}var _=e.data,q={},D=null;"[iFrameResizerChild]Ready"===_?L():r()?(q=n(),D=Y=q.id,$[D].loaded=!0,!c()&&F(D)&&(f(D,"Received: "+_),k()&&o()&&R())):m(D,"Ignored: "+_)}function h(e,t,n){var i=null,o=null;if($[e]){if(i=$[e][t],"function"!=typeof i)throw new TypeError(t+" on iFrame["+e+"] is not a function");o=i(n)}return o}function v(e){var t=e.id;f(t,"Removing iFrame: "+t),e.parentNode&&e.parentNode.removeChild(e),h(t,"closedCallback",t),f(t,"--"),delete $[t]}function b(e){null===V&&(V={x:window.pageXOffset!==n?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==n?window.pageYOffset:document.documentElement.scrollTop},f(e,"Get page position: "+V.x+","+V.y))}function y(e){null!==V&&(window.scrollTo(V.x,V.y),f(e,"Set page position: "+V.x+","+V.y),x())}function x(){V=null}function T(e){function t(){I(e),S("reset","reset",e.iframe,e.id)}f(e.id,"Size reset requested by "+("init"===e.type?"host page":"iFrame")),b(e.id),E(t,e,"reset")}function I(e){function t(t){e.iframe.style[t]=e[t]+"px",f(e.id,"IFrame ("+o+") "+t+" set to "+e[t]+"px")}function n(t){z||"0"!==e[t]||(z=!0,f(o,"Hidden iFrame detected, creating visibility listener"),k())}function i(e){t(e),n(e)}var o=e.iframe.id;$[o]&&($[o].sizeHeight&&i("height"),$[o].sizeWidth&&i("width"))}function E(e,t,n){n!==t.type&&q?(f(t.id,"Requesting animation frame"),q(e)):e()}function S(e,t,n,i,o){function r(){var o=$[i].targetOrigin;f(i,"["+e+"] Sending msg to iframe["+i+"] ("+t+") targetOrigin: "+o),n.contentWindow.postMessage(U+t,o)}function a(){g(i,"["+e+"] IFrame("+i+") not found")}function u(){n&&"contentWindow"in n&&null!==n.contentWindow?r():a()}function c(){function e(){!$[i]||$[i].loaded||d||(d=!0,g(i,"IFrame has not responded within "+$[i].warningTimeout/1e3+" seconds. Check iFrameResizer.contentWindow.js has been loaded in iFrame. This message can be ingored if everything is working, or you can set the warningTimeout option to a higher value or zero to suppress this warning."))}o&&$[i].warningTimeout&&($[i].msgTimeout=setTimeout(e,$[i].warningTimeout))}var d=!1;i=i||n.id,$[i]&&(u(),c())}function O(e){return e+":"+$[e].bodyMarginV1+":"+$[e].sizeWidth+":"+$[e].log+":"+$[e].interval+":"+$[e].enablePublicMethods+":"+$[e].autoResize+":"+$[e].bodyMargin+":"+$[e].heightCalculationMethod+":"+$[e].bodyBackground+":"+$[e].bodyPadding+":"+$[e].tolerance+":"+$[e].inPageLinks+":"+$[e].resizeFrom+":"+$[e].widthCalculationMethod}function M(e,t){function i(){function t(t){1/0!==$[y][t]&&0!==$[y][t]&&(e.style[t]=$[y][t]+"px",f(y,"Set "+t+" = "+$[y][t]+"px"))}function n(e){if($[y]["min"+e]>$[y]["max"+e])throw new Error("Value for min"+e+" can not be greater than max"+e)}n("Height"),n("Width"),t("maxHeight"),t("minHeight"),t("maxWidth"),t("minWidth")}function o(){var e=t&&t.id||X.id+F++;return null!==document.getElementById(e)&&(e+=F++),e}function r(n){return Y=n,""===n&&(e.id=n=o(),L=(t||{}).log,Y=n,f(n,"Added missing iframe ID: "+n+" ("+e.src+")")),n}function u(){switch(f(y,"IFrame scrolling "+($[y].scrolling?"enabled":"disabled")+" for "+y),e.style.overflow=!1===$[y].scrolling?"hidden":"auto",$[y].scrolling){case!0:e.scrolling="yes";break;case!1:e.scrolling="no";break;default:e.scrolling=$[y].scrolling}}function c(){"number"!=typeof $[y].bodyMargin&&"0"!==$[y].bodyMargin||($[y].bodyMarginV1=$[y].bodyMargin,$[y].bodyMargin=""+$[y].bodyMargin+"px")}function d(){var t=$[y].firstRun,n=$[y].heightCalculationMethod in D;!t&&n&&T({iframe:e,height:0,width:0,type:"init"})}function l(){Function.prototype.bind&&($[y].iframe.iFrameResizer={close:v.bind(null,$[y].iframe),resize:S.bind(null,"Window resize","resize",$[y].iframe),moveToAnchor:function(e){S("Move to anchor","moveToAnchor:"+e,$[y].iframe,y)},sendMessage:function(e){e=JSON.stringify(e),S("Send Message","message:"+e,$[y].iframe,y)}})}function s(t){function i(){S("iFrame.onload",t,e,n,!0),d()}a(e,"load",i),S("init",t,e,n,!0)}function m(e){if("object"!=typeof e)throw new TypeError("Options is not an object")}function p(e){for(var t in X)X.hasOwnProperty(t)&&($[y][t]=e.hasOwnProperty(t)?e[t]:X[t])}function w(e){return""===e||"file://"===e?"*":e}function h(t){t=t||{},$[y]={firstRun:!0,iframe:e,remoteHost:e.src.split("/").slice(0,3).join("/")},m(t),p(t),$[y].targetOrigin=!0===$[y].checkOrigin?w($[y].remoteHost):"*"}function b(){return y in $&&"iFrameResizer"in e}var y=r(e.id);b()?g(y,"Ignored iFrame, already setup."):(h(t),u(),i(),c(),s(O(y)),l())}function C(e,t){null===Q&&(Q=setTimeout(function(){Q=null,e()},t))}function k(){function e(){function e(e){function t(t){return"0px"===$[e].iframe.style[t]}function n(e){return null!==e.offsetParent}n($[e].iframe)&&(t("height")||t("width"))&&S("Visibility change","resize",$[e].iframe,e)}for(var t in $)e(t)}function t(t){f("window","Mutation observed: "+t[0].target+" "+t[0].type),C(e,16)}function n(){var e=document.querySelector("body"),n={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0},o=new i(t);o.observe(e,n)}var i=window.MutationObserver||window.WebKitMutationObserver;i&&n()}function A(e){function t(){W("Window "+e,"resize")}f("window","Trigger event: "+e),C(t,16)}function P(){function e(){W("Tab Visable","resize")}"hidden"!==document.visibilityState&&(f("document","Trigger event: Visiblity change"),C(e,16))}function W(e,t){function n(e){return"parent"===$[e].resizeFrom&&$[e].autoResize&&!$[e].firstRun}for(var i in $)n(i)&&S(e,t,document.getElementById(i),i)}function N(){a(window,"message",w),a(window,"resize",function(){A("resize")}),a(document,"visibilitychange",P),a(document,"-webkit-visibilitychange",P),a(window,"focusin",function(){A("focus")}),a(window,"focus",function(){A("focus")})}function B(){function e(e,t){function n(){if(!t.tagName)throw new TypeError("Object is not a valid DOM element");if("IFRAME"!==t.tagName.toUpperCase())throw new TypeError("Expected <IFRAME> tag, found <"+t.tagName+">")}t&&(n(),M(t,e),i.push(t))}function t(e){e&&e.enablePublicMethods&&g("enablePublicMethods option has been removed, public methods are now always available in the iFrame")}var i;return c(),N(),function(o,r){switch(i=[],t(o),typeof r){case"undefined":case"string":Array.prototype.forEach.call(document.querySelectorAll(r||"iframe"),e.bind(n,o));break;case"object":e(o,r);break;default:throw new TypeError("Unexpected data type ("+typeof r+")")}return i}}function R(e){e.fn?e.fn.iFrameResize||(e.fn.iFrameResize=function(e){function t(t,n){M(n,e)}return this.filter("iframe").each(t).end()}):m("","Unable to bind to jQuery, it is not fully loaded.")}if("undefined"!=typeof window){var F=0,L=!1,z=!1,_="message",j=_.length,U="[iFrameSizer]",H=U.length,V=null,q=window.requestAnimationFrame,D={max:1,scroll:1,bodyScroll:1,documentElementScroll:1},$={},Q=null,Y="Host Page",X={autoResize:!0,bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:!0,inPageLinks:!1,enablePublicMethods:!0,heightCalculationMethod:"bodyOffset",id:"iFrameResizer",interval:32,log:!1,maxHeight:1/0,maxWidth:1/0,minHeight:0,minWidth:0,resizeFrom:"parent",scrolling:!1,sizeHeight:!0,sizeWidth:!1,warningTimeout:5e3,tolerance:0,widthCalculationMethod:"scroll",closedCallback:function(){},initCallback:function(){},messageCallback:function(){g("MessageCallback function not defined")},resizedCallback:function(){},scrollCallback:function(){return!0}};window.jQuery&&R(window.jQuery),o=[],i=B,r="function"==typeof i?i.apply(t,o):i,!(r!==n&&(e.exports=r))}}()},/*!**************************************!*\
  !*** ./~/iframe-resizer/js/index.js ***!
  \**************************************/
function(e,t,n){t.iframeResizer=n(/*! ./iframeResizer */11),t.iframeResizerContentWindow=n(/*! ./iframeResizer.contentWindow */10)},/*!************************************!*\
  !*** ./~/lodash.throttle/index.js ***!
  \************************************/
function(e,t){(function(t){function n(e,t,n){function i(t){var n=p,i=w;return p=w=void 0,E=t,v=e.apply(i,n)}function r(e){return E=e,b=setTimeout(l,t),S?i(e):v}function a(e){var n=e-y,i=e-E,o=t-n;return O?T(o,h-i):o}function d(e){var n=e-y,i=e-E;return void 0===y||n>=t||n<0||O&&i>=h}function l(){var e=I();return d(e)?s(e):void(b=setTimeout(l,a(e)))}function s(e){return b=void 0,M&&p?i(e):(p=w=void 0,v)}function f(){void 0!==b&&clearTimeout(b),E=0,p=y=w=b=void 0}function m(){return void 0===b?v:s(I())}function g(){var e=I(),n=d(e);if(p=arguments,w=this,y=e,n){if(void 0===b)return r(y);if(O)return b=setTimeout(l,t),i(y)}return void 0===b&&(b=setTimeout(l,t)),v}var p,w,h,v,b,y,E=0,S=!1,O=!1,M=!0;if("function"!=typeof e)throw new TypeError(c);return t=u(t)||0,o(n)&&(S=!!n.leading,O="maxWait"in n,h=O?x(u(n.maxWait)||0,t):h,M="trailing"in n?!!n.trailing:M),g.cancel=f,g.flush=m,g}function i(e,t,i){var r=!0,a=!0;if("function"!=typeof e)throw new TypeError(c);return o(i)&&(r="leading"in i?!!i.leading:r,a="trailing"in i?!!i.trailing:a),n(e,t,{leading:r,maxWait:t,trailing:a})}function o(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function r(e){return!!e&&"object"==typeof e}function a(e){return"symbol"==typeof e||r(e)&&y.call(e)==l}function u(e){if("number"==typeof e)return e;if(a(e))return d;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var n=m.test(e);return n||g.test(e)?p(e.slice(2),n?2:8):f.test(e)?d:+e}var c="Expected a function",d=NaN,l="[object Symbol]",s=/^\s+|\s+$/g,f=/^[-+]0x[0-9a-f]+$/i,m=/^0b[01]+$/i,g=/^0o[0-7]+$/i,p=parseInt,w="object"==typeof t&&t&&t.Object===Object&&t,h="object"==typeof self&&self&&self.Object===Object&&self,v=w||h||Function("return this")(),b=Object.prototype,y=b.toString,x=Math.max,T=Math.min,I=function(){return v.Date.now()};e.exports=i}).call(t,function(){return this}())},/*!************************************!*\
  !*** ./~/os-browserify/browser.js ***!
  \************************************/
function(e,t){t.endianness=function(){return"LE"},t.hostname=function(){return"undefined"!=typeof location?location.hostname:""},t.loadavg=function(){return[]},t.uptime=function(){return 0},t.freemem=function(){return Number.MAX_VALUE},t.totalmem=function(){return Number.MAX_VALUE},t.cpus=function(){return[]},t.type=function(){return"Browser"},t.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},t.networkInterfaces=t.getNetworkInterfaces=function(){return{}},t.arch=function(){return"javascript"},t.platform=function(){return"browser"},t.tmpdir=t.tmpDir=function(){return"/tmp"},t.EOL="\n"},/*!******************************!*\
  !*** ./~/process/browser.js ***!
  \******************************/
function(e,t){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function r(e){if(s===clearTimeout)return clearTimeout(e);if((s===i||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(e);try{return s(e)}catch(t){try{return s.call(null,e)}catch(t){return s.call(this,e)}}}function a(){p&&m&&(p=!1,m.length?g=m.concat(g):w=-1,g.length&&u())}function u(){if(!p){var e=o(a);p=!0;for(var t=g.length;t;){for(m=g,g=[];++w<t;)m&&m[w].run();w=-1,t=g.length}m=null,p=!1,r(e)}}function c(e,t){this.fun=e,this.array=t}function d(){}var l,s,f=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{s="function"==typeof clearTimeout?clearTimeout:i}catch(e){s=i}}();var m,g=[],p=!1,w=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];g.push(new c(e,t)),1!==g.length||p||o(u)},c.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=d,f.addListener=d,f.once=d,f.off=d,f.removeListener=d,f.removeAllListeners=d,f.emit=d,f.prependListener=d,f.prependOnceListener=d,f.listeners=function(e){return[]},f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},/*!***************************************!*\
  !*** ./src/lib/iframeComunication.js ***!
  \***************************************/
function(e,t){"use strict";function n(e){o(r,function(t){null!=e&&e(t)})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var i=window.addEventListener?"addEventListener":"attachEvent",o=window[i],r="attachEvent"===i?"onmessage":"message";e.exports=t.default},/*!**********************************!*\
  !*** ./src/lib/load-tracking.js ***!
  \**********************************/
function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(/*! ../config */2),r=i(o),a=n(/*! ./articleUrlProcessor */4),u=function(){var e=void 0,t=void 0,n=new Promise(function(n,i){e=n,t=i});return{loadPromise:n,loadResolve:e,loadReject:t}},c=function(){if(!(Math.random()>.1)){var e=encodeURIComponent((0,a.getArticleUrl)()),t=r.default.apiBaseUrl+"Widget/TrackTrending?articleUrl="+e;fetch(t,{method:"POST"})}},d={},l=function(){c(),d[r.default.embedElement]=u()};t.runBeforeMain=l;var s=function(){var e=arguments.length<=0||void 0===arguments[0]?r.default.embedElement:arguments[0];return e&&(document.querySelector("#"+e)||{}).clientHeight>0},f=function e(t){var n=arguments.length<=1||void 0===arguments[1]?0:arguments[1];s(t)?d[t].loadResolve():n<10?setTimeout(function(){return e(t,n+1)},100):d[t].loadReject()};t.onButtonLoad=f;var m=function(e){d[e]=u()};t.initializeButton=m;var g={whenButtonLoaded:function(){var e=arguments.length<=0||void 0===arguments[0]?r.default.embedElement:arguments[0];return d[e].loadPromise},isButtonLoaded:s};t.publicInterface=g},/*!********************************************!*\
  !*** ./src/widget-react-iframe-builder.js ***!
  \********************************************/
function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(){return!(self==top)&&window.innerHeight<444}function r(){return!(self==top)&&444==window.innerHeight}function a(){return!(self==top)&&window.innerHeight>444}function u(){return!(self==top)&&window.innerHeight<362}function c(){return!(self==top)&&window.innerHeight<553}function d(){return"0."+(100-(parseInt(100*(362-Math.min(window.innerHeight,362))/362,10)+1))}function l(){return"0."+(100-(parseInt(100*(533-Math.min(window.innerHeight,533))/533,10)+1))}function s(e){var t=e?"height: 362px; background: #fff; max-width: 630px; display: block; margin: 0 auto;":"height: 0; background: #fff; max-width: 630px; display: block; margin: 0 auto;",n=e?"height: 533px":"",i="";return(0,M.isIframeIntegration)()?(0,M.isScriptLoaded)()?o()?i=u()?document.createTextNode("#action-button-react-iframe {"+t+"; transform: scale("+d()+");transform-origin: center top 0px;}"+(" @media all and (max-width: 30.0625em) {#action-button-react-iframe {"+n+" transform: scale("+l()+") ;transform-origin: center top 0px;}")):document.createTextNode("#action-button-react-iframe {"+t+"; position: relative;top: 50%;transform: translateY(-50%);}\n              @media all and (max-width: 30.0625em) {#action-button-react-iframe {"+n+" transform: scale("+l()+") translateY(-50%);transform-origin: center top 0px;}"):r()?i=document.createTextNode("#action-button-react-iframe {"+t+"; position: relative;top: 50%;transform: translateY(-50%);}"+(" @media all and (max-width: 30.0625em) {#action-button-react-iframe {"+n+" transform: scale(0.83);transform-origin: center top 0px;position:static;}")):a()&&(i=c()?document.createTextNode("#action-button-react-iframe {"+t+"; position: relative;top: 50%;transform: translateY(-50%);}\n              @media all and (max-width: 30.0625em) {#action-button-react-iframe {"+n+" transform: scale("+l()+");transform-origin: center top 0px;position:static}"):document.createTextNode("#action-button-react-iframe {${elementStyles}; position: relative;top: 50%;transform: translateY(-50%);}"+(" @media all and (max-width: 30.0625em) {#action-button-react-iframe {"+n+" }}"))):i=document.createTextNode("#action-button-react-iframe {"+t+"}"+(" @media all and (max-width: 30.0625em) {#action-button-react-iframe {"+n+" }}")):i=document.createTextNode("#action-button-react-iframe {"+t+"}"+(" @media all and (max-width: 515px) {#action-button-react-iframe {"+n+" }}")),i}function f(){var e=T.default.getQueryString("isAmpIntegration",window.location.href);null!=e&&"true"===e&&!function(){var e=window.matchMedia("(min-width: 480px)").matches?370:550,t=function(){window.parent.postMessage({sentinel:"amp",type:"embed-size",height:e},"*")};t()}()}function m(){var e=T.default.getQueryString("isTaboolaIntegration",window.location.href);null!=e&&"true"===e&&(0,E.default)(function(e){window.matchMedia("(min-width: 480px)").matches?e.rendered({height:"380"}):e.rendered({height:"550"})})}function g(e){k=e;var t=document.createElement("style");t.type="text/css";var n="https://tpc.googlesyndication.com"===window.origin,i=s(n);t.appendChild(i),k.widgetContainer&&k.widgetContainer.appendChild(t);var o=document.createElement("iframe");o.setAttribute("id","action-button-react-iframe"),o.setAttribute("src","https://prod-native.actionbutton.co?isNativeEmbed=true&"+(0,w.default)()),o.setAttribute("allow","camera; microphone"),o.style.width="100%",o.style.border=0,k.widgetContainer&&k.widgetContainer.appendChild(o),n||v.default.iframeResizer({checkOrigin:!1,autoResize:!0,bodyMargin:0},o)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=g;var p=n(/*! ./lib/generate-guid */21),w=i(p),h=n(/*! iframe-resizer */9),v=i(h),b=n(/*! ./lib/widget-visible */7),y=i(b),x=n(/*! ./lib/url-utils.js */3),T=i(x),I=n(/*! ./lib/taboolajs-loader.js */23),E=i(I),S=n(/*! ./lib/iframeComunication */16),O=i(S),M=n(/*! ./lib/page-data */5),C=function(){try{return!!window.frameElement&&(window.frameElement.getAttribute("sandbox")||"").split(" ").includes("allow-same-origin")}catch(e){return!1}},k=void 0,A=function(){if(k){var e={articleUrl:k.articleUrl,articleUrlTracking:k.articleUrlTracking,embedType:k.embedType,widgetContainerId:k.widgetContainerId,widgetPreviewId:k.widgetPreviewId,widgetRequestId:k.widgetRequestId,isSponsoredContent:k.isSponsoredContent,uniqueStateId:k.uniqueStateId,allowSameOrigin:C(),iponWeb:k.iponWeb},t=document.getElementById("action-button-react-iframe");t.contentWindow.postMessage(e,"*"),(0,M.isIframeIntegration)()?(0,M.isScriptLoaded)()?setTimeout(function(){t.contentWindow.postMessage({isActionButtonWidgetVisible:!0},"*")},3e3):(0,O.default)(function(e){e.data.isWidgetIframeVisible&&setTimeout(function(){t.contentWindow.postMessage({isActionButtonWidgetVisible:!0},"*")},3e3)}):(0,y.default)(null,t).then(function(){setTimeout(function(){t.contentWindow&&t.contentWindow.postMessage({isActionButtonWidgetVisible:!0},"*")},3e3)}),f(),m()}};t.sendActionsToWidget=A},,/*!**************************************!*\
  !*** ./src/lib/find-container-id.js ***!
  \**************************************/
function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=document.getElementById(e);if(t)return e;var n=document.currentScript;if(n){var i=a.default.getQueryString("actionButtonWidgetContainerId",n.src);if(i){var o=document.querySelector("div[data-action-button-widget-container-id='"+i+"']");if(o)return o.id=i,i}if(t=n.previousElementSibling,t&&(0,u.getElementAttribute)(t,"action-button-widget-id","actionButtonWidgetId"))return t.id=(0,u.generateIdForWidgetContainer)().toString(),t.id}return t=document.querySelector("[data-action-button-widget-id]"),t&&"DIV"===t.tagName?(t.id=(0,u.generateIdForWidgetContainer)().toString(),t.id):null}Object.defineProperty(t,"__esModule",{value:!0}),t.findContainerId=o;var r=n(/*! ../lib/url-utils.js */3),a=i(r),u=n(/*! ./domElementsUtils */1)},/*!**********************************!*\
  !*** ./src/lib/generate-guid.js ***!
  \**********************************/
function(e,t){"use strict";function n(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"==e?t:3&t|8;return n.toString(16)})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},/*!********************************!*\
  !*** ./src/lib/load-widget.js ***!
  \********************************/
function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=document.getElementById("action-button-react-iframe")&&document.getElementById(e);return!!t}function r(e){e&&e.widgetContainer&&(e.widgetContainer.innerHTML="")}function a(){var e=window.location.href.split("?")[0];setInterval(function(){if(window.location.href.split("?")[0]!==e){var t=(0,h.initPageData)(g.default.embedElement);r(t),e=window.location.href.split("?")[0],(0,h.setPageData)({articleUrl:e,articleUrlTracking:window.location.href.split("#")[0]}),t=(0,h.getPageData)(g.default.embedElement),(0,x.default)(t)}},1e3)}function u(e){o()||((0,x.default)(e),a())}function c(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassive",null,t),window.removeEventListener("testPassive",null,t)}catch(e){}return!!e&&{passive:!0}}function d(e){var t=document.getElementById(e).getBoundingClientRect();return t.top-window.innerHeight}function l(e,t){return d(t)<e}function s(e){return d(e)<0}function f(e,t){if(!e)return Promise.reject("Could not find container for Action Button.");if((0,T.initializeButton)(e,t),(0,h.isIframeIntegration)()){var n=function(){var n=!1;if((0,h.isScriptLoaded)()){(0,h.initPageData)(e),(0,h.setPageData)(e,{articleUrl:document.referrer,articleUrlTracking:document.referrer,widgetRequestId:t||w.default.getQueryVariable("widgetId"),isSponsoredContent:w.default.getQueryVariable("sponsoredContent")});var i=(0,h.getPageData)(e);if(null==i||null==i.widgetContainer||n)return{v:Promise.reject()};n=!0,r(i),u(i)}else(0,b.default)(function(t){if(t.data.bounce===!0){var i=document.getElementById("action-button-react-iframe");i.contentWindow.postMessage(t.data,i.src)}if(null!=t.data&&(t.data.widgetId||t.data.articleUrl)){(0,h.initPageData)(e),(0,h.setPageData)(e,{articleUrl:t.data.articleUrl,articleUrlTracking:t.data.articleUrlTracking||t.data.articleUrl,widgetRequestId:t.data.widgetId,isSponsoredContent:t.data.sponsored});var o=(0,h.getPageData)(e);if(null==o||null==o.widgetContainer||n)return;n=!0,r(o),u(o)}})}();if("object"==typeof n)return n.v}else{document.getElementById("actionbutton-iframe-src")&&(document.getElementById("actionbutton-iframe-src").style="",document.getElementById("actionbutton-iframe-src").src="about:blank",document.getElementById("actionbutton-iframe-src").setAttribute("height","0"));var i=(0,h.initPageData)(e);if(t&&(0,h.setPageData)(e,{widgetRequestId:t}),null==i||null==i.widgetContainer)return Promise.reject();r(i),u((0,h.getPageData)(e))}return(0,b.default)(function(n){n&&n.data&&"ActionButtonLoaded"===n.data.eventType&&n.data.inputData&&n.data.inputData.widgetContainerId===e&&n.data.inputData.widgetRequestId===t&&(0,T.onButtonLoad)(e)}),T.publicInterface.whenButtonLoaded(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.getPassiveScrollData=c,t.isNearViewPort=l,t.isIntersectingViewPort=s,t.loadWidget=f;var m=n(/*! ../config */2),g=i(m),p=n(/*! ./url-utils.js */3),w=i(p),h=n(/*! ./page-data */5),v=n(/*! ./iframeComunication */16),b=i(v),y=n(/*! ../widget-react-iframe-builder */18),x=i(y),T=n(/*! ./load-tracking */17)},/*!*************************************!*\
  !*** ./src/lib/taboolajs-loader.js ***!
  \*************************************/
function(e,t){"use strict";function n(e,t){var n="https://cdn.taboola.com/ext/tbc.js",i=document.getElementsByTagName("script")[0],o=document.createElement("script");o.src=n,o.onload=function(){window.TBC=window.TBC||{},window.TBC.cmd=window.TBC.cmd||[],e(window.TBC)},t&&(o.onerror=function(){return t()}),i.parentNode.insertBefore(o,i)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},/*!******************************!*\
  !*** ./src/widget-loader.js ***!
  \******************************/
function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(){(0,s.isNearViewPort)(1e3,h)&&(0!==window.scrollY||(0,s.isIntersectingViewPort)(h))&&(window.removeEventListener("scroll",o),(0,s.loadWidget)(h).catch(function(){}))}function r(){(0,s.isNearViewPort)(500,h)&&(w=!0),w&&p&&(window.removeEventListener("scroll",r),(0,g.sendActionsToWidget)())}function a(e){return e?e:((0,f.runBeforeMain)(),void(h&&(window.addEventListener("scroll",o,v),o(),window.addEventListener("scroll",r,v),r())))}var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},c=n(/*! ./config */2),d=i(c),l=n(/*! ./lib/find-container-id */20),s=n(/*! ./lib/load-widget */22),f=n(/*! ./lib/load-tracking */17),m=n(/*! ./lib/widget-support.js */6),g=n(/*! ./widget-react-iframe-builder.js */18),p=!1,w=!1,h=(0,l.findContainerId)(d.default.embedElement),v=(0,s.getPassiveScrollData)();window.addEventListener("message",function(e){(e.origin.includes("actionbutton")||e.origin.includes("localhost")||e.data&&"ActionButtonReady"===e.data.eventType)&&(p=!0,h?r():(0,g.sendActionsToWidget)())},!1),(0,m.isBrowserSupported)()&&((0,m.browserSupportsAllFeatures)()?a():(0,m.loadScript)("https://cdn.polyfill.io/v2/polyfill.min.js?features=Promise,fetch,Object.assign,Array.prototype.find,Array.prototype.includes,String.prototype.includes,document.currentScript&flags=gated",a),window&&!window.ActionButton&&(window.ActionButton=u({},f.publicInterface,{loadButton:s.loadWidget})))}]);
//# sourceMappingURL=widget.min.js.map